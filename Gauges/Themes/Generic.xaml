<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:Gauges">
    <Style TargetType="{x:Type local:Gauge}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:Gauge}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" MinHeight="{TemplateBinding MinHeight}" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Text="Min" HorizontalAlignment="Left" VerticalAlignment="Top"/>
                        <TextBlock Grid.Row="0" Text="{TemplateBinding Maximum}" HorizontalAlignment="Right" VerticalAlignment="Top"/>
                        <Grid Grid.Row="0" Grid.RowSpan="3" x:Name="PART_Indicator">
                            <TextBlock Grid.Row="0" Text="{TemplateBinding Value}" HorizontalAlignment="Center" VerticalAlignment="Top"/>
                            <Ellipse  Width="10" Height="20" Fill="HotPink" VerticalAlignment="Bottom"/>
                        </Grid>
                        <TickBar Grid.Row="1" x:Name="TopTick" 
                                SnapsToDevicePixels="True"
                                Placement="Top"
                                Height="4"
                                Visibility="Visible">
                            <TickBar.Fill>
                                <SolidColorBrush Color="Black" />
                            </TickBar.Fill>
                        </TickBar>
                        <Border x:Name="TrackBackground" 
                            Margin="0"
                            CornerRadius="2"
                            Height="4"
                            Grid.Row="2"
                            BorderThickness="1">
                            <Border.BorderBrush>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                    <LinearGradientBrush.GradientStops>
                                        <GradientStopCollection>
                                            <GradientStop Color="Red" Offset="0.0" />
                                            <GradientStop Color="Red" Offset="0.25" />
                                            <GradientStop Color="Green" Offset="0.25" />
                                            <GradientStop Color="Green" Offset="0.75" />
                                            <GradientStop Color="Red" Offset="0.75" />
                                            <GradientStop Color="Red" Offset="1.0" />
                                        </GradientStopCollection>
                                    </LinearGradientBrush.GradientStops>
                                </LinearGradientBrush>
                            </Border.BorderBrush>
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                    <LinearGradientBrush.GradientStops>
                                        <GradientStopCollection>
                                            <GradientStop Color="Red" Offset="0.0" />
                                            <GradientStop Color="Red" Offset="0.25" />
                                            <GradientStop Color="Green" Offset="0.25" />
                                            <GradientStop Color="Green" Offset="0.75" />
                                            <GradientStop Color="Red" Offset="0.75" />
                                            <GradientStop Color="Red" Offset="1.0" />
                                        </GradientStopCollection>
                                    </LinearGradientBrush.GradientStops>
                                </LinearGradientBrush>
                            </Border.Background>
                        </Border>

                        <!--<TickBar x:Name="BottomTick" 
                                SnapsToDevicePixels="True" 
                                Grid.Row="2" 
                                Fill="{TemplateBinding Foreground}"
                                Placement="Bottom"
                                Height="4"
                                Visibility="Visible" />-->
                    </Grid>
                    <!--<ControlTemplate.Triggers>
                        <Trigger Property="TickPlacement" Value="TopLeft">
                            <Setter TargetName="TopTick" Property="Visibility" Value="Visible" />
                        </Trigger>
                        <Trigger Property="TickPlacement" Value="BottomRight">
                            <Setter TargetName="BottomTick" Property="Visibility" Value="Visible" />
                        </Trigger>
                        <Trigger Property="TickPlacement" Value="Both">
                            <Setter TargetName="TopTick" Property="Visibility" Value="Visible" />
                            <Setter TargetName="BottomTick" Property="Visibility" Value="Visible" />
                        </Trigger>
                    </ControlTemplate.Triggers>-->
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
